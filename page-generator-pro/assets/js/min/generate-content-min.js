function page_generator_pro_get_url_param(e,t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var a,r=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(e);return null===r?"":decodeURIComponent(r[1].replace(/\+/g," "))}function page_generator_pro_generate_content_test(e,t,a){wpzinc_modal_open(page_generator_pro_generate_content.titles.test,page_generator_pro_generate_content.messages.test),jQuery.ajax({url:ajaxurl,type:"POST",async:!0,data:{id:e,action:"page_generator_pro_generate_"+t,current_index:a,nonce:page_generator_pro_generate_content.nonces.generate_content,test_mode:!0},error:function(e,t,a){return wpzinc_modal_show_error_message(e.status+" "+e.statusText)},success:function(e){if(!e.success)return wpzinc_modal_show_error_message(e.data.replace(/(\r\n|\n)/g,"<br />"));message=page_generator_pro_generate_content.messages.test_success.replace("%s",'<a href="'+e.data.url+'" rel="noopener" target="_blank">'+e.data.url+"</a>"),message+="<br />Time: "+e.data.duration+" seconds. Memory Usage / Peak: "+e.data.memory_usage+"/"+e.data.memory_peak_usage+"MB";let t=e.data.keywords_terms.length;for(i=0;i<t;i++)message+="<br />{"+e.data.keywords_terms[i]+"}: "+e.data.keywords_terms[i];return wpzinc_modal_show_success_message(message)}})}function page_generator_pro_generate_content_trash_generated_content(e,t,a,r,n){var o=Number(a)*Number(r)+1,s=Number(a)*Number(r)+Number(r);s>n&&(s=n),wpzinc_modal_open(page_generator_pro_generate_content.titles.trash_generated_content,page_generator_pro_generate_content.messages.trash_generated_content+" "+o+" to "+s+" of "+n),jQuery.ajax({url:ajaxurl,type:"POST",async:!0,data:{id:e,action:"page_generator_pro_generate_"+t+"_trash_generated_"+t,nonce:page_generator_pro_generate_content.nonces.trash_generated_content},error:function(e,t,a){return wpzinc_modal_show_error_message(e.status+" "+e.statusText)},success:function(o){return o.success?o.data.has_more?void page_generator_pro_generate_content_trash_generated_content(e,t,a+1,r,n):(jQuery("div.wpzinc-option div.full span.trash_generated_content").length>0?jQuery("span.trash_generated_content").closest("div.wpzinc-option").remove():(jQuery('span.generated_count span.count[data-group-id="'+e+'"]').text("0"),jQuery('span.view a[data-group-id="'+e+'"]').remove(),jQuery('span.trash_generated_content a[data-group-id="'+e+'"]').remove(),jQuery('span.delete_generated_content a[data-group-id="'+e+'"]').remove(),jQuery('span.view a[data-group-id="'+e+'"]').remove()),wpzinc_modal_show_success_message_and_exit(page_generator_pro_generate_content.messages.trash_generated_content_success)):wpzinc_modal_show_error_message(o.data.replace(/(\r\n|\n)/g,"<br />"))}})}function page_generator_pro_generate_content_delete_generated_content(e,t,a,r,n){var o=Number(a)*Number(r)+1,s=Number(o)+Number(r);s>n&&(s=n),wpzinc_modal_open(page_generator_pro_generate_content.titles.delete_generated_content,page_generator_pro_generate_content.messages.delete_generated_content+" "+o+" to "+s+" of "+n),jQuery.ajax({url:ajaxurl,type:"POST",async:!0,data:{id:e,action:"page_generator_pro_generate_"+t+"_delete_generated_"+t,nonce:page_generator_pro_generate_content.nonces.delete_generated_content},error:function(e,t,a){return wpzinc_modal_show_error_message(e.status+" "+e.statusText)},success:function(o){return o.success?o.data.has_more?void page_generator_pro_generate_content_delete_generated_content(e,t,a+1,r,n):(jQuery("div.wpzinc-option div.full span.delete_generated_content").length>0?jQuery("span.delete_generated_content").closest("div.wpzinc-option").remove():(jQuery('span.generated_count span.count[data-group-id="'+e+'"]').text("0"),jQuery('span.last_index_generated span.count[data-group-id="'+e+'"]').text("0"),jQuery('span.view a[data-group-id="'+e+'"]').remove(),jQuery('span.trash_generated_content a[data-group-id="'+e+'"]').remove(),jQuery('span.delete_generated_content a[data-group-id="'+e+'"]').remove(),jQuery('span.view a[data-group-id="'+e+'"]').remove()),wpzinc_modal_show_success_message_and_exit(page_generator_pro_generate_content.messages.delete_generated_content_success)):wpzinc_modal_show_error_message(o.data.replace(/(\r\n|\n)/g,"<br />"))}})}jQuery(document).ready((function($){$("body.page-generator-pro td.has-row-actions span a, body.page-generator-pro td.generated_count span a, body.page-generator-pro td.status span a, #page-generator-pro-actions span a, #page-generator-pro-actions-bottom span a, #page-generator-pro-actions-gutenberg-bottom span a").click((function(e){var t=$(this).parent("span").attr("class"),a=!0,r=page_generator_pro_get_url_param($(this).attr("href"),"id"),n=page_generator_pro_get_url_param($(this).attr("href"),"type"),o=page_generator_pro_generate_content.messages[t+"_confirm"];if(void 0===o)return!0;if(o=o.replace("%s",$(this).data("total")),!(a=confirm(o)))return e.preventDefault(),!1;switch(t){case"test":e.preventDefault();var s=$(this).data("current-index");void 0===s&&(s=$("input#resume_index").val()),page_generator_pro_generate_content_test(r,n,s);break;case"generate":break;case"generate_server":break;case"cancel_generation":break;case"trash_generated_content":e.preventDefault(),page_generator_pro_generate_content_trash_generated_content(r,n,0,$(this).data("limit"),$(this).data("total"));break;case"delete_generated_content":e.preventDefault(),page_generator_pro_generate_content_delete_generated_content(r,n,0,$(this).data("limit"),$(this).data("total"));break}})),$("body").on("click","#page-generator-pro-progress button.close",(function(e){return e.preventDefault(),page_generator_pro_hide_overlay_and_progress(),!1})),$("body").on("click",".wpzinc-add-table-row",(function(e){e.preventDefault(),setTimeout((function(){"undefined"!=typeof wp_zinc_autocomplete_initialize&&wp_zinc_autocomplete_initialize(".custom-field-row")}),500)})),$("body").on("click","#page-generator-pro-custom-fields button.dynamic-element",(function(e){e.preventDefault(),wpzinc_table_row_add($(this).attr("data-table-row-selector"),$(this).closest("table")),pageGeneratorProQuickTagsLoadModal(page_generator_pro_shortcodes[$(this).attr("data-shortcode")],"#page-generator-pro-custom-fields table tbody tr:last-child td textarea")})),$("body").on("click","#page-generator-pro-discussion button.dynamic-element",(function(e){switch(e.preventDefault(),$(this).attr("data-shortcode")){case"spintax_firstname":$("input#comments_generate_firstname").val($(this).data("content"));break;case"spintax_surname":$("input#comments_generate_surname").val($(this).data("content"));break;default:pageGeneratorProQuickTagsLoadModal(page_generator_pro_shortcodes[$(this).attr("data-shortcode")],"textarea#comments_generate_comment")}})),$(".is-sortable").length>0&&$(".is-sortable").each((function(){$(this).sortable()})),$(document).on("click","a.deselect-all",(function(e){e.preventDefault(),$('input[type="checkbox"]',$($(this).data("list"))).prop("checked",!1)})),$('select[name="page-generator-pro[type]"]').on("change.page-generator-pro",(function(e){var t=$(this).val();for(var a in page_generator_pro_generate_content.post_type_conditional_metaboxes)$("#"+a).hide(),$("#"+a+" div.wpzinc-option.post-type-conditional").hide(),$("#"+a+" input.post-type-conditional").hide(),-1!=page_generator_pro_generate_content.post_type_conditional_metaboxes[a].indexOf(t)&&($("#"+a).show(),$("#"+a+" div.wpzinc-option.post-type-conditional."+t).show(),$("#"+a+" input.post-type-conditional."+t).show())})),$('select[name="page-generator-pro[type]"]').trigger("change.page-generator-pro"),$('select[name="page-generator-pro[status]"], select[name="page-generator-pro[date_option]"]').on("change.page-generator-pro",(function(){var e=$('select[name="page-generator-pro[status]"]').val(),t=$('select[name="page-generator-pro[date_option]"]').val();$("div.specific, div.specific_keyword, div.random, div.future").hide(),"future"!=e||"random"!=t&&"specific_keyword"!=t?$("div."+e).show():$("div."+e).hide(),$("div."+t).show()})),$('select[name="page-generator-pro[status]"]').trigger("change.page-generator-pro"),$('select[name="page-generator-pro[comments_generate][date_option]"]').on("change.page-generator-pro",(function(){var e=$(this).val();$("div.specific",$(this).closest(".postbox")).hide(),$("div.random",$(this).closest(".postbox")).hide(),$("div."+e,$(this).closest(".postbox")).show()})),$('select[name="page-generator-pro[comments_generate][date_option]"]').trigger("change.page-generator-pro"),$('select[name="page-generator-pro[overwrite]"]').on("change.page-generator-pro",(function(){var e=$(this).val();$("div.overwrite-sections").hide(),$("div."+e).show()})),$('select[name="page-generator-pro[overwrite]"]').trigger("change.page-generator-pro"),$('select[name="page-generator-pro[featured_image_source]"]').on("change.page-generator-pro",(function(){var e=$(this).val();$(".featured_image").hide(),$("#page-generator-pro-featured-image ul.wpzinc-nav-tabs li").hide(),$("#featured-image-container .wpzinc-option").hide(),e.length>0&&($(".featured_image").show(),$("#featured-image-container .wpzinc-option."+e).each((function(){let e=$(this).parent().parent().attr("id");$(this).show(),$('#page-generator-pro-featured-image ul.wpzinc-nav-tabs li a[href="#'+e+'"]').parent().show()})),$("#page-generator-pro-featured-image ul.wpzinc-nav-tabs li:first-child a").click())})),$('select[name="page-generator-pro[featured_image_source]"]').trigger("change.page-generator-pro"),$('select[name="tax"]').on("change.page-generator-pro",(function(e){var t=$(this).val();!0===page_generator_pro_generate_content.taxonomy_is_hierarchical[t]?$(".term-parent").show():$(".term-parent").hide()})),$('select[name="tax"]').trigger("change.page-generator-pro"),$("body.post-type-page-generator-pro form input[type=submit], body.taxonomy-page-generator-tax form input[type=submit]").click((function(e){$(window).off("beforeunload.edit-post");var t=$(this).attr("name"),a=!0,r=page_generator_pro_generate_content.messages[t+"_confirm"];return void 0===r||((a=confirm(r))?void 0:(e.preventDefault(),!1))}));let e=[];$("textarea.wpzinc-codemirror").length>0&&$("textarea.wpzinc-codemirror").each((function(t){e.push(wp.codeEditor.initialize($(this),page_generator_pro_generate_content.codemirror)),e[t].codemirror.on("change",(function(){e[t].codemirror.save()}))}))}));